# Пакетиране на Klipper

Klipper е донякъде аномалия в опаковането сред програмите на Питон, тъй като не използва setuptools за изграждане и инсталиране. Някои бележки за това как е най-добре да го опаковате са следните:

## C модули

Klipper използва модул на C за по-бързо извършване на някои кинематични изчисления. Този модул трябва да се компилира по време на пакетирането, за да се избегне въвеждането на зависимост от компилатора по време на изпълнение. За да компилирате модула C, изпълнете `python2 klippy/chelper/__init__.py`.

## Компилиране на Python код

В много дистрибуции се прилага политика на компилиране на целия код на Python преди пакетиране, за да се подобри времето за стартиране. Можете да направите това, като стартирате `python2 -m compileall klippy`.

## Създаване на версии

Ако изграждате пакет на Klipper от git, обичайната практика е да не изпращате директория .git, така че определянето на версиите трябва да се извършва без git. За да направите това, използвайте скрипта, доставен в `scripts/make_version.py`, който трябва да се изпълни по следния начин: `python2 scripts/make_version.py YOURDISTRONAME > klippy/.version`.

## Примерен скрипт за опаковане

klipper-git е пакетиран за Arch Linux и има PKGBUILD (скрипт за изграждане на пакети), достъпен в [Arch User Repositiory](https://aur.archlinux.org/cgit/aur.git/tree/PKGBUILD?h=klipper-git).
