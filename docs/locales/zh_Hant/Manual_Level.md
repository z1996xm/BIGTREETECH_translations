# 手動調平

本文介紹了用於校準Z限位和對列印床調品螺絲進行調整的工具。

## 校準 Z 限位

準確的 Z 軸限位位置對於獲得高質量列印至關重要。

請注意，Z 限位開關本身的精度限制了調平的精度。如果使用 Trinamic 步進電機驅動，那麼可以考慮啟用[限位相位](Endstop_Phase.md)檢測以提高開關的精度。

要執行 Z 限位器校準，請將打印機歸位，命令打印頭移動到距離床身至少 5 毫米的 Z 位置（如果尚未），命令打印頭移動到靠近打印頭中心的 XY 位置床，然後導航到 OctoPrint 終端選項卡並運行：

```
Z_ENDSTOP_CALIBRATE
```

然後按照["the paper test"](Bed_Level.md#the-paper-test)中描述的步驟確定給定位置的噴嘴和床之間的實際距離。完成這些步驟後，可以`ACCEPT`該位置並將結果保存到配置文件中：

```
SAVE_CONFIG
```

最好在床的 Z 軸的另一端使用 Z 限位開關。 （遠離床的歸位更加穩健，因為通常將 Z 歸位總是安全的。）但是，如果必須向床歸位，建議調整限位器以觸發小距離（例如，0.5 毫米） ) 在床上方。幾乎所有的限位開關都可以安全地按下其觸發點以外的一小段距離。完成此操作後，應該會發現`Z_ENDSTOP_CALIBRATE`命令報告了 Z position_endstop 的一個小的正值（例如，0.5mm）。在離床仍有一段距離時觸發終點止動裝置可降低意外撞床的風險。

某些打印機能夠手動調整物理止動開關的位置。但是，建議使用 Klipper 在軟件中執行 Z 終點定位 - 一旦終點的物理位置位於方便的位置，可以通過運行 Z_ENDSTOP_CALIBRATE 或通過手動更新配置文件中的 Z position_endstop 來進行任何進一步的調整。

## 調整列印調平螺絲

使用床身調平螺絲獲得良好床身調平的秘訣是在床身調平過程中利用打印機的高精度運動系統。這是通過將噴嘴命令到每個床螺桿附近的位置，然後調整該螺桿直到床與噴嘴之間的設定距離來完成的。 Klipper 有一個工具可以幫助解決這個問題。為了使用該工具，必須指定每個螺絲的 XY 位置。

這是通過創建一個 `[bed_screws]` 配置部分來完成的。例如，它可能看起來類似於：

```
[bed_screws]
screw1: 100, 50
screw2: 100, 150
screw3: 150, 100
```

如果床底螺絲位於床底下，則指定螺絲正上方的 XY 位置。如果螺絲在床外，則指定最靠近仍在床範圍內的螺絲的 XY 位置。

配置文件準備好後，運行`RESTART`以加載該配置，然後可以通過運行以下命令啟動該工具：

```
BED_SCREWS_ADJUST
```

此工具會將打印機的噴嘴移動到每個螺絲 XY 位置，然後將噴嘴移動到 Z=0 高度。此時可以使用“試紙”來調整噴嘴正下方的床頭螺絲。請參閱 ["the paper test"](Bed_Level.md#the-paper-test) 中描述的信息，但要調整床螺絲而不是命令噴嘴到不同的高度。調整床螺絲，直到來回推紙時有少量摩擦。

一旦調整好螺絲以感覺到少量摩擦，運行“接受”或“調整”命令。如果底座螺絲需要調整（通常超過螺絲的 1/8 圈），請使用“ADJUSTED”命令。如果不需要進行重大調整，請使用“ACCEPT”命令。這兩個命令都會使工具繼續下一個螺絲。 （當使用“ADJUSTED”命令時，該工具將安排一個額外的底螺絲調整週期；當驗證所有底螺絲不需要任何重大調整時，該工具成功完成。）可以使用“ABORT”命令退出工具早。

當打印機具有平坦的打印表面（例如玻璃）並具有直導軌時，此系統效果最佳。成功完成床調平工具後，床應準備好進行打印。

### 細粒床身螺桿調整

如果打印機使用三個床身螺絲並且所有三個螺絲都在床身下方，則可以執行第二個“高精度”床身調平步驟。這是通過將噴嘴命令到每次調整床螺桿時床移動較大距離的位置來完成的。

例如，考慮在 A、B 和 C 位置有螺絲的床：

![bed_screws](img/bed_screws.svg.png)

對於位置 C 處的床身螺絲進行的每次調整，床身將沿著由其餘兩個床身螺絲定義的擺錘擺動（此處顯示為綠線）。在這種情況下，在 C 處對床螺桿的每次調整都會使 D 位置的床比直接在 C 處移動更多的量。因此，當噴嘴處於位置 D 時，可以進行改進的 C 螺桿調節。

要啟用此功能，需要確定額外的噴嘴坐標並將它們添加到配置文件中。例如，它可能看起來像：

```
[bed_screws]
screw1: 100, 50
screw1_fine_adjust: 0, 0
screw2: 100, 150
screw2_fine_adjust: 300, 300
screw3: 150, 100
screw3_fine_adjust: 0, 100
```

啟用此功能後，“BED_SCREWS_ADJUST”工具將首先在每個螺絲位置的正上方提示進行粗調，一旦接受，它將提示在其他位置進行微調。繼續在每個位置使用 `ACCEPT` 和 `ADJUSTED`。

## 使用床探頭調整床校平螺絲

這是使用床探頭校準床位的另一種方法。要使用它，您必須有一個 Z 探頭（BL Touch、感應傳感器等）。

要啟用此功能，需要確定噴嘴坐標，使 Z 探頭位於螺絲上方，然後將它們添加到配置文件中。例如，它可能看起來像：

```
[screws_tilt_adjust]
screw1: -5, 30
screw1_name: front left screw
screw2: 155, 30
screw2_name: front right screw
screw3: 155, 190
screw3_name: rear right screw
screw4: -5, 190
screw4_name: rear left screw
horizontal_move_z: 10.
speed: 50.
screw_thread: CW-M3
```

螺絲 1 始終是其他螺絲的參考點，因此系統假定螺絲 1 處於正確的高度。始終先運行 `G28`，然後運行 `SCREWS_TILT_CALCULATE` - 它應該產生類似於以下內容的輸出：

```
Send: G28
Recv: ok
Send: SCREWS_TILT_CALCULATE
Recv: // 01:20 means 1 full turn and 20 minutes, CW=clockwise, CCW=counter-clockwise
Recv: // front left screw (base) : x=-5.0, y=30.0, z=2.48750
Recv: // front right screw : x=155.0, y=30.0, z=2.36000 : adjust CW 01:15
Recv: // rear right screw : y=155.0, y=190.0, z=2.71500 : adjust CCW 00:50
Recv: // read left screw : x=-5.0, y=190.0, z=2.47250 : adjust CW 00:02
Recv: ok
```

這意味著：

- 左前螺絲是參考點，你不能改變它。
- 右前螺絲必須順時針旋轉 1 整圈和四分之一圈
- 右後螺絲必須逆時針轉動至 50 分鐘方向
- 左後螺絲必須順時針轉動至 2 分鐘方向（不需要就可以了）

請注意，“分鐘”是指“鐘面的分鐘”。因此，例如，15 分鐘是一整圈的四分之一。

重複這個過程幾次，直到你得到一個好的水平床——通常當所有的調整都低於 6 分鐘。

如果使用安裝在熱端側面的探頭（即，它具有 X 或 Y 偏移），請注意調整床傾斜度將使之前使用傾斜床執行的任何探頭校準無效。確保在調整底座螺絲後運行 [探頭校準](Probe_Calibrate.md)。

當使用保存的床面網格時，“MAX_DEVIATION”參數很有用，以確保床面高度不會偏離網格創建時的位置太遠。例如，可以在加載網格之前將“SCREWS_TILT_CALCULATE MAX_DEVIATION=0.01”添加到切片器的自定義啟動 gcode。如果超過配置的限制（本例中為 0.01mm），它將中止打印，讓用戶有機會調整螺絲並重新開始打印。

如果您只能在一個方向轉動床調節螺絲，則“方向”參數很有用。例如，您可能會在可能的最低（或最高）位置開始擰緊螺絲，該螺絲只能在一個方向上轉動，以升高（或降低）床。如果只能順時針轉動螺絲，請運行“SCREWS_TILT_CALCULATE DIRECTION=CW”。如果您只能逆時針轉動它們，請運行“SCREWS_TILT_CALCULATE DIRECTION=CCW”。將選擇一個合適的參考點，以便可以通過沿給定方向轉動所有螺絲來調平床。
