# 列印床調平

列印床調平（有時也被稱為 "bed tramming"）對於獲得高質量的列印結果至關重要。錯誤"調平"的列印床會造成附著力差、"翹曲"，以及整個列印過程中的細微問題。本文件是在 Klipper 中進行調平的指南。

瞭解列印床調平的目標很重要。如果印表機在列印過程中被命令到`X0 Y0 Z10`的位置，那麼目標是讓印表機的噴嘴距離列印床正好10毫米。此外，如果印表機被命令到`X50 Z10`的位置，目標是在整個水平移動過程中，噴嘴與床面始終保持10毫米的準確距離。

爲了獲得良好的列印質量，印表機應進行校準，使Z軸距離的精度在約25微米（0.025毫米）。這是一個很小的距離，遠小於典型人類頭髮的寬度。這個尺度是不能 "用眼睛 "來測量的。微妙的影響（如熱膨脹）會影響這個尺度的測量。獲得高精度的秘訣是使用一個可重複，高精度，並能夠利用印表機自身運動系統的調平方法。

## 選擇適當的校準機制

不同型別的印表機使用不同的方法來進行調平，但是所有這些方法最終都取決於「紙張測試「（如下所述）。特定型別印表機的實際調平過程在其他文件中有所描述。

在執行任何校準工具前，一定要執行在 [檢查配置文件](Config_checks.md) 中 描述的檢查步驟。在列印床調平前有必要驗證印表機的基本運動。

對於帶有「自動 Z 探針」的印表機，請務必按照 [探針校準](Probe_Calibrate.md) 文件中的說明先校準探針。對於三角洲結構的印表機，請參閱 [三角洲校準](Delta_Calibrate.md) 文件。對於帶有列印床調平螺絲和傳統 Z 限位的印表機，請參閱 [手動調平](Manual_Level.md) 文件。

在校準過程中，可能需要將印表機的Z `position_min`設定為一個負數（例如，`position_min = -2`）。即使在校準程式中，印表機也會執行邊界檢查。設定一個負數允許印表機在列印床的標稱位置以下移動，這可以幫助確定實際床面位置。

## 「A4紙測試法」

床調平的核心校準機制是"塞紙測試"。它涉及在列印床和噴嘴之間放置一張普通列印紙，然後將噴嘴控制到不同的Z高度，直到在來回移動紙張時感覺到適量的阻力。

即使你的印表機帶有自動Z探針，理解塞紙測試依然很重要。爲了保證探針的效果，它經常會需要校準。探針的校準機制也依賴塞紙測試。

爲了進行塞紙測試，先用剪刀剪下一小塊長方形的紙條（例如，5x3釐米）。列印紙的厚度一般為100微米（0.100mm）左右。(紙條的確切寬度並不重要.）

紙張測試的第一步是檢查印表機的噴嘴和列印床。確保噴嘴和列印床面上沒有塑料（或其他雜物）。

**請仔細檢查噴嘴和床面，確保沒有殘留塑料存在！**

如果總是在一種膠帶或床面上列印，可以在該膠帶或床面上直接進行塞紙測試。請注意，膠帶本身有厚度，不同的膠帶（或任何其他床面）將影響 Z 的測量。請確保用塞紙測試測量每一種使用的床面。

如果噴嘴上殘留了塑料，需要先加熱擠出頭並用金屬鑷子把這些塑料去除。等到擠出機完全冷卻到室溫後，再繼續進行紙張測試。當噴嘴正在冷卻時，使用金屬鑷子去除任何可能漏出的塑料。

**只在噴嘴和列印床都處於室溫的情況下進行塞紙測試！**

當噴嘴被加熱時，其位置（相對於床面）會因熱膨脹而發生變化。這種熱膨脹通常在100微米左右，大約是一張典型的列印紙的厚度。熱膨脹的確切程度並不關鍵，正如紙張的確切厚度並不關鍵一樣。從假設二者相等開始（見下文確定二者寬度之差的方法）。

當目標是在加熱時有一個一致的距離時，在室溫下校準距離可能聽起來很奇怪。然而，如果在噴嘴加熱時進行校準，往往會有少量的熔融塑料滲入紙張，從而改變了摩擦力的大小。這會影響校準精度。在床或噴嘴熱的時候進行校準也會大大增加燒傷風險。熱膨脹量是穩定的，所以在校準過程中很容易被考慮到。

**使用自動化工具來確定精確的 Z 高度！**

Klipper 有幾個輔助指令碼（例如，MANUAL_PROBE、Z_ENDSTOP_CALIBRATE、PROBE_CALIBRATE 或 DELTA_CALIBRATE）。請參閱[上述章節](#choose-the-appropriate-calibration-mechanism)來選擇它們。

在OctoPrint終端視窗中執行適當的命令。該指令碼將在OctoPrint終端輸出中提示使用者互動。以下是一個例子：

```
Recv: // Starting manual Z probe. Use TESTZ to adjust position.
Recv: // Finish with ACCEPT or ABORT command.
Recv: // Z position: ?????? --> 5.000 <-- ??????
```

噴嘴的（按照印表機目前的定義的）目前高度顯示在"--> <--"之間。右邊的數字是剛剛大於目前高度的最後一次探測高度，左邊的數字是小於目前高度的最後一次探測高度（如果沒有嘗試，則??????）。

將紙放在噴嘴和床面之間。摺疊紙張的一角可以讓它更容易被抓在手裡。(來回移動紙張時，儘量不要下壓床面。）

![paper-test](img/paper-test.jpg)

使用 TESTZ 命令將噴嘴向紙條靠近。例如：

```
TESTZ Z=-.1
```

TESTZ命令將相對噴嘴的當前位置移動指定距離。(因此，`Z=-.1` 命令噴嘴向床身靠近 0.1mm。）噴嘴停止移動後，來回推動紙張，檢查噴嘴是否與紙張接觸，並感受摩擦力的大小。繼續發出 TESTZ 命令，直到塞紙測試時感覺到少量的摩擦。

如果發現摩擦力太大，那麼可以用一個正的 Z 值將噴嘴向上移動，或者用`TESTZ Z=+`或`TESTZ Z=-`來二分上一次位置和目前位置-也就是移動到兩個位置之間的一半位置。例如，如果從 TESTZ 命令後收到以下反饋：

```
Recv: // Z position: 0.130 --> 0.230 <-- 0.280
```

然後 `TESTZ Z=-` 會將噴嘴移動到 Z 座標 0.180 （0.130 和 0.230之間）。這個功能可以快速的找到一致阻力的位置。也可以用 `Z=++` 和 `Z=--` 直接回到上一次測量位置。例如，在上面反饋後執行`TESTZ Z=--`命令會將 Z 座標移動到 0.130。

感受到少量的摩擦後，執行 ACCEPT 命令：

```
ACCEPT
```

這將接受給定的 Z 高度，並繼續使用給定的校準工具。

確切的阻力並不重要，就像熱膨脹量和紙張的確切寬度並不重要一樣。只需要每次測試時儘量達到相同的阻力就行了。

如果在測試過程中出了問題，可以使用 `ABORT` 命令來退出校準工具。

## 確定熱膨脹

在成功進行列印床調平後，可以繼續計算"熱膨脹"、"紙張厚度"和"紙張測試時感受到的摩擦量"綜合影響的精確值。

這種型別的計算通常是不需要的，因為大多數使用者發現簡單的"塞紙測試"提供了足夠好的結果。

最簡單的計算方法是列印一個四面都是直壁的測試物體。可以用在[docs/prints/square.stl](prints/square.stl)中找到的大型空心方形。在切片時，確保切片軟體在第一層使用與所有後續層相同的層高和擠出寬度。使用較高的層高（層高應該是噴嘴直徑的75%左右），不要使用裙邊(skirt)或筏(raft)。

列印測試對象，等待其自然冷卻，並將其從列印床上取下。檢查該物體的最低層。(可以用手指或指甲沿底層邊緣劃一下。)如果發現底層沿著物體的四邊略微凸起，則表明噴嘴離床面偏近。可以發出`SET_GCODE_OFFSET Z=+.010`命令來增加高度。在未來的列印中，可以用相同的方法檢查這種性狀，並根據需要作進一步調整。這種型別的調整通常是以 10 微米（0.010毫米）為單位。

如果首層一直比後續層窄，那麼可以使用 SET_GCODE_OFFSET 命令進行負的 Z 調整。如果不確定，那麼可以減少 Z 值，直到底層的印刷品出現一個小的凸起，然後再增加 Z 值直到它消失。

應用期望的Z 值調整的最簡單方法是建立一個 START_PRINT G程式碼宏，配置切片軟體在列印開始程式碼中呼叫該宏，併爲該宏新增 SET_GCODE_OFFSET 命令。詳情見[切片軟體](Slicers.md)文件。
